<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" /> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
    integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w=="
    crossorigin="anonymous" />
  <link rel="stylesheet" href="css/utilities.css">
  <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin_style.css">
  <title>Testimonial Manager




  </title>
</head>

<body>

  <!-- Navbar -->
  <div class="navbar" id="home">
    <div class="container flex">
      <figure><img class="logo" src="img/logo-01.svg" alt=""></figure>
      <nav>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#services">Services</a></li>
          <li><a href="#updates">Updates</a></li>
          <li><a href="#offers">Offers</a></li>
        </ul>
      </nav>

      <div class="nav-buttons">
        <button class="btn btn-primary btn-primary show-sign-up-modal">Sign Up</button>
        <button class="btn btn-primary btn-secondary show-log-in-modal">Log In</button>
      </div>

    </div>
  </div>
  <!-- End Navigation -->



  <section class="testimonial-top-text">
    <div class="container grid">
      <div class="feedback-text">

          <div id="testimonials-wrapper">

              <div class="container">
                  <table class="day-details-table">
                      <thead>
                      <tr>
                          <th>ID</th>
                          <th>Name</th>
                          <th>Temperature</th>
                          <th>Breakfast</th>
                          <th>Lunch</th>
                          <th>Activities</th>
                          <th>Date</th>
                          <th>Update</th>
                          <th>Delete</th>
                      </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td> Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet, ratione. </td>
                              <td><button class="btn-del show-del-modal">Delete</button></td>
                          </tr>
                      </tbody>
                  </table>
              </div>




          </div>


          <!-- ************************** START ************************** -->


<!--          <div class="testimonial-entry-wrapper" id="testimonial-wrapper-1">-->
<!--              <div class="testimonial-entry-testimonialId" id="testimonial-id-1"><p>testimonialId</p></div>-->
<!--              <div class="testimonial-entry-first-name" id="testimonial-first-name-1">first name</div>-->
<!--              <div class="testimonial-entry-last-name" id="testimonial-last-name-1">last name</div>-->
<!--              <div class="testimonial-entry-comment" id="testimonial-comment-1">comment</div>-->
<!--              <div class="testimonial-entry-service-name" id="testimonial-service-name-1">service name</div>-->
<!--              <div class="testimonial-entry-created" id="testimonial-created-1">create</div>-->
<!--          </div>-->

          <!-- ************************** END ************************** -->

      </div>
      <figure><img src="img/parent-feedback-01.svg" alt=""></figure>
    </div>
  </section>


  <section class="testimonials p-top">
    <div class="container">
      <div class="carousel">
        <div class="slider">
          <section>
            <div class="slide-content flex">
              <h3 class="heading-3 italic">"Words cannot express the thanks that my family has for each and every
                Kiddie Clubhouse early childhood teacher and staff person that has been a part of our family for
                almost nine years."
              </h3>
              <figure><img src="img/user-pic-2.jpg" alt=""></figure>
              <h4 class="testimonial-name">Archie Andrews</h4>
              <h5 class="testimonial-location">Dublin, Ireland</h5>
            </div>
          </section>

          <section>
            <div class="slide-content flex">
              <h3 class="heading-3 italic">"We have been attending the creche for the 7 years with both of our boys
                and
                we have always appreciated the wonderful care provided to them."
              </h3>
              <figure><img src="img/user-pic-1.jpg" alt=""></figure>
              <h4 class="testimonial-name">Veronica Lodge</h4>
              <h5 class="testimonial-location">Cork, Ireland</h5>
            </div>
          </section>

          <section>
            <div class="slide-content flex">
              <h3 class="heading-3 italic">"My son Matteo has been going to Share and Care since he was 1 year old and
                now he is going to be 4 in March. He looks forward to it every day!! The atmosphere is amazing and the
                teachers, can’t ask for anything more. Thumbs up to them all!."
              </h3>
              <figure><img src="img/user-pic-4.jpg" alt=""></figure>
              <h4 class="testimonial-name">Kevin Keller</h4>
              <h5 class="testimonial-location">Dublin, Ireland</h5>
            </div>
          </section>

          <section>
            <div class="slide-content flex">
              <h3 class="heading-3 italic">"We’ve had a few daycare experiences before, I can absolutely say that
                Kiddie
                Clubhouse is a six-star experience for the kids. They’ve learnt to socialise, they’re writing their
                names,
                one of my kids is 4 and a half and the other is two."
              </h3>
              <figure><img src="img/user-pic-3.jpg" alt=""></figure>
              <h4> class="testimonial-name">Alice Cooper</h4>
                <h5 class="testimonial-location">Kerry, Ireland</h5>
            </div>
          </section>


        </div>

        <div class="controls">
          <span class="arrow left">
            <i class="fas fa-chevron-left"></i>
          </span>
          <span class="arrow right">
            <i class="fas fa-chevron-right"></i>
          </span>
          <ul>
            <li class="selected"></li>
            <li></li>
            <li></li>
            <li></li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container flex">
      <div>
        <figure><img class="logo" src="img/logo-white-01.svg" alt=""></figure>
      </div>

      <nav>
        <ul>
          <li>Contact Us</li>
          <li>Find Us</li>
          <li>Private Policy</li>
        </ul>
      </nav>
      <a href="#home">Back To Top<i class="fas fa-long-arrow-alt-up"></i></a>
    </div>
  </footer>
  <div class="overlay hidden"></div>
  <script src="js/app.js"></script>
<script src="js/testimonial_manager.js"></script>
</body>

</html>


<?php require ('scripts/connect.php'); ?>

<?php

DEFINE('DB_USER', 'meetalex_websiteRoot');
DEFINE('DB_PASSWORD', 'pXZOkNzt}hsIT2WAH+1X*(HGo');
DEFINE('DB_HOST', '50.87.177.72');
DEFINE('DB_NAME', 'meetalex_ChildcareDatabse');
$db_connection = @mysqli_connect(DB_HOST, DB_USER, DB_PASSWORD, DB_NAME) OR
die("Could not connect to MySQL! ". mysqli_connect_error());
mysqli_set_charset($db_connection, 'utf8');

$query = "
               
                                select t2.testimonialId, t1.firstName, t1.lastName, t2.comment, t2.serviceName, t2.created
                                from user as t1
                                inner join testimonial as t2 on t1.username = t2.parentEmail;
                
                                ";

$result = mysqli_query($db_connection, $query);
$dataArray = array();

if (mysqli_num_rows($result) > 0) {
    // output data of each row
    while ($row = mysqli_fetch_assoc($result)) {
        $dataArray[] = $row;

    }

} else {
    echo "0 results";
}


$db_connection->close();

// ***************************** FOR TESTING *****************************

        $string = "";
        $rowsCounter = count($dataArray);

// ***************************** FOR TESTING *****************************

?>


<script>

    const button = document.querySelector('body').addEventListener('click', loadEntries);





   function loadEntries(){

        alert("im loading");



        let variableCounter =  <?php echo $rowsCounter; ?>;
        let i;
        for (i = 1 ; i <= variableCounter; i++ ){

            let arrayRowCounter = i - 1;

            var test = <?php echo json_encode($dataArray); ?>; // parse the PHP array in to a JavaScript array


            const addTestimonialEntryWrapper = document.createElement('div');
            addTestimonialEntryWrapper.id = 'testimonial-wrapper-'+i;
            addTestimonialEntryWrapper.classList.add('testimonial-entry-wrapper');
            document.getElementById('testimonials-wrapper').appendChild(addTestimonialEntryWrapper);

            const addTestimonialEntryTestimonialID = document.createElement('div');
            addTestimonialEntryTestimonialID.id = 'testimonial-id-'+i;
            addTestimonialEntryTestimonialID.classList.add('testimonial-entry-testimonialId');
            document.getElementById('testimonial-wrapper-'+i).appendChild(addTestimonialEntryTestimonialID);
            document.getElementById('testimonial-id-'+i).innerHTML = (test[arrayRowCounter]['testimonialId']);


            const testimonialEntryFirstName = document.createElement('div');
            testimonialEntryFirstName.id = 'testimonial-first-name-'+i;
            testimonialEntryFirstName.classList.add('testimonial-entry-first-name');
            document.getElementById('testimonial-wrapper-'+i).appendChild(testimonialEntryFirstName);
            document.getElementById('testimonial-first-name-'+i).innerHTML = (test[arrayRowCounter]['firstName']);

            const testimonialEntryLastName = document.createElement('div');
            testimonialEntryLastName.id = 'testimonial-last-name-'+i;
            testimonialEntryLastName.classList.add('testimonial-entry-last-name');
            document.getElementById('testimonial-wrapper-'+i).appendChild(testimonialEntryLastName);
            document.getElementById('testimonial-last-name-'+i).innerHTML = (test[arrayRowCounter]['lastName']);

            const testimonialEntryComment = document.createElement('div');
            testimonialEntryComment.id = 'testimonial-comment-'+i;
            testimonialEntryComment.classList.add('testimonial-entry-comment');
            document.getElementById('testimonial-wrapper-'+i).appendChild(testimonialEntryComment);
            document.getElementById('testimonial-comment-'+i).innerHTML = (test[arrayRowCounter]['comment']);


            const testimonialEntryServiceName = document.createElement('div');
            testimonialEntryServiceName.id = 'testimonial-service-name-'+i;
            testimonialEntryServiceName.classList.add('testimonial-entry-service-name');
            document.getElementById('testimonial-wrapper-'+i).appendChild(testimonialEntryServiceName);
            document.getElementById('testimonial-service-name-'+i).innerHTML = (test[arrayRowCounter]['serviceName']);

            const testimonialEntryCreated = document.createElement('div');
            testimonialEntryCreated.id = 'testimonial-created-'+i;
            testimonialEntryCreated.classList.add('testimonial-entry-created');
            document.getElementById('testimonial-wrapper-'+i).appendChild(testimonialEntryCreated);
            document.getElementById('testimonial-created-'+i).innerHTML = (test[arrayRowCounter]['created']);


        }

    }

</script>;